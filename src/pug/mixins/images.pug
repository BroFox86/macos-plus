//- Image
mixin img(src, modal)
  - var original = src.replace(/(\.[\w\d_-]+)$/i, "_original$1")

  case modal
    default
      a.article__img-wrapper(href= original, data-toggle="lightbox")
        div
          img.article__img(
            src = src
            alt = attributes.alt)

    when false
      .article__img-wrapper
        img.article__img(
          src = src
          alt = attributes.alt)

//- Figure
mixin figure(src, modal)
  - var original = src.replace(/(\.[\w\d_-]+)$/i, "_original$1")

  case modal
    default
      figure.article__figure
        a.article__img-wrapper(href= original, data-toggle="lightbox")
          img.article__img.article__img--figure(
            src = src
            alt = attributes.alt)
        figcaption.article__figcaption
          if block
          block

    when false
      figure.article__figure
        img.article__img.article__img--figure(
          src = src
          alt = attributes.alt)
        figcaption.article__figcaption
          if block
          block

//- Responsive image
mixin respImg(src, width)
  - var src1 = src + " " + width + "w"
  - var src2 = src.replace(/(\.[\w\d_-]+)$/i, "@1\.5x$1") + " " + Math.round(width * 1.5) + "w"
  - var src3 = src.replace(/(\.[\w\d_-]+)$/i, "@2x$1")  + " " + Math.round(width * 2) + "w"

  img(
    class  = attributes.class
    srcset = src1 + ", " + src2 + ", " + src3
    sizes  = width / 16 + "rem"
    src	   = src
    alt	   = attributes.alt)

//- Source of picture element
mixin imgSource(src, width)
  -
    var src1 = src + " " + width + "w"
        src2 = src.replace(/(\.[\w\d_-]+)$/i, "@1\.5x$1") + " " + Math.round(width * 1.5) + "w"
        src3 = src.replace(/(\.[\w\d_-]+)$/i, "@2x$1")  + " " + Math.round(width * 2) + "w"

  source(
    media  = attributes.media
    srcset = src1 + ", " + src2 + ", " + src3
    sizes  = attributes.sizes)

//- Vector image
mixin svg(id)
  svg(class= attributes.class, width= "30")
    use(xlink:href="#" + id)