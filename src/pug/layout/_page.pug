include /pug/abstracts/*
include /pug/layout/!(_page)
include /pug/components/* 

doctype html

//- <html> tag is deliberately omitted. Info here: google.github.io/styleguide/htmlcssguide.html#Optional_Tags 

block page
  head
    block head
      meta(charset="utf-8")
      title= title
      meta(name="description" content= description)

      //inject:critical:css 
      //endinject

      //build:css css/styles.min.css rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"
      link(href="css/normalize.css" rel="stylesheet")
      link(href="css/main.css" rel="stylesheet")
      //endbuild 

      //inject:fg-loadcss:html 
      //endinject 

      //inject-string:noscript

      meta(name="viewport" content="width=device-width, initial-scale=1, user-scalable=no")
      meta(http-equiv="x-ua-compatible" content="ie=edge")

      meta(property="og:title" content= title)
      meta(property="og:description" content= description)
      meta(property="og:type" content="article")
      meta(property="og:image" content= domain + metaImage.src)
      meta(property="og:image:width" content= metaImage.width)
      meta(property="og:image:height" content= metaImage.height)
      meta(property="og:url" content= domain)
      meta(property="og:site_name" content="macOS+ | Лис подскажет")

      link(rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png")
      link(rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png")
      link(rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png")
      link(rel="manifest" href="manifest.json")
      link(rel="shortcut icon" href="favicon.ico")
      meta(name="apple-mobile-web-app-title" content="macOS+ | Лис подскажет")
      meta(name="application-name" content="macOS+ | Лис подскажет")
      meta(name="msapplication-config" content="browserconfig.xml")
      meta(name="theme-color" content="#455a64")

      // Google Tag
      script(async src="https://www.googletagmanager.com/gtag/js?id=UA-100340915-1")
      script.
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-100340915-1');

      // LikeBtn
      script(async id="likebtn_wjs" src="https://w.likebtn.com/js/w/widget.js")

  body.page(lang="ru")
    noscript 
      | Для полной функциональности этого сайта необходимо включить JavaScript. Вот 
      a(href="https://www.enable-javascript.com/ru/" target="_blank") инструкции
      | , как включить JavaScript в вашем браузере.

    +header
      block nav
        +nav
    main.page__container  
      block inner
        article.article
          block articleHeader
            +articleHeader
          block content
          +contents("mobile")
          +vote
      block sidebar
        +sidebar
    +footer
    +scrollButton
    +lightbox

    block scripts
      //Mainly used for old & non-popular browsers
      script(src="https://polyfill.io/v3/polyfill.min.js?features=es6%2CNodeList.prototype.%40%40iterator%2CArray.prototype.%40%40iterator%2CString.prototype.%40%40iterator%2CDOMTokenList.prototype.%40%40iterator" crossorigin="anonymous")

      //build:js js/global.min.js
      script(src="js/collapse.js")
      script(src="js/date.js")
      script(src="js/scrollspy.js")
      script(src="js/lazy.js")
      script(src="js/modal.js")
      script(src="js/lightbox.js")
      script(src="js/tooltip.js")
      script(src="js/links.js")
      script(src="js/list.js")
      script(src="js/share.js")
      script(src="js/copy.js")
      script(src="js/scroll-button.js")
      //endbuild

      //build:remove 
      script(src="js/_viewport.js") 
      //endbuild