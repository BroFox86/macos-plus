function setDate(s,r){"use strict";return function(){var t=document.querySelector(arguments[0]);if(t){var e,i,o=t.getAttribute("datetime"),n=s(o);if(0!=n)if(1!=n)if(2!=n)switch(n<=6?i=r("days",e=n):n<=27?(e=Math.floor(n/7),i=r("weeks",e)):28<=n&&n<365?(e=n<30?1:Math.floor(n/30),i=r("months",e)):365<=n&&(e=Math.floor(n/365),i=r("years",e)),e){case 1:t.innerHTML="Обновлено "+i+" назад.";break;default:t.innerHTML="Обновлено "+e+" "+i+" назад."}else t.innerHTML="Обновлено позавчера.";else t.innerHTML="Обновлено вчера.";else t.innerHTML="Обновлено сегодня."}}}function calcDiff(t){var e=new Date,i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=new Date(t).setHours(0),n=Math.floor((i-o)/864e5);return n=0<=n?n:void 0}function localizeUnits(t,e){switch(t){case"days":return 1==e?"день":e<=4?"дня":"дней";case"weeks":return 1==e?"неделю":"недели";case"months":return 1==e?"месяц":e<=4?"месяца":"месяцев";case"years":return 1==e?"год":e<=4?"года":"лет"}}!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.svg4everybody=e()}):"object"==typeof module&&module.exports?module.exports=e():t.svg4everybody=e()}(this,function(){function m(t,e,i){if(i){var o=document.createDocumentFragment(),n=!e.hasAttribute("viewBox")&&i.getAttribute("viewBox");n&&e.setAttribute("viewBox",n);for(var s=i.cloneNode(!0);s.childNodes.length;)o.appendChild(s.firstChild);t.appendChild(o)}}function v(o){o.onreadystatechange=function(){if(4===o.readyState){var i=o._cachedDocument;i||((i=o._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=o.responseText,o._cachedTarget={}),o._embeds.splice(0).map(function(t){var e=o._cachedTarget[t.id];e||(e=o._cachedTarget[t.id]=i.getElementById(t.id)),m(t.parent,t.svg,e)})}},o.onreadystatechange()}function y(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(t){var d,u=Object(t),e=window.top!==window.self;d="polyfill"in u?u.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&e;var h={},p=window.requestAnimationFrame||setTimeout,f=document.getElementsByTagName("use"),g=0;d&&function t(){for(var e=0;e<f.length;){var i=f[e],o=i.parentNode,n=y(o),s=i.getAttribute("xlink:href")||i.getAttribute("href");if(!s&&u.attributeName&&(s=i.getAttribute(u.attributeName)),n&&s){if(d)if(!u.validate||u.validate(s,n,i)){o.removeChild(i);var r=s.split("#"),a=r.shift(),l=r.join("#");if(a.length){var c=h[a];c||((c=h[a]=new XMLHttpRequest).open("GET",a),c.send(),c._embeds=[]),c._embeds.push({parent:o,svg:n,id:l}),v(c)}else m(o,n,document.getElementById(l))}else++e,++g}else++e}(!f.length||0<f.length-g)&&p(t,67)}()}}),function(){"use strict";window.Collapse=function(){},Collapse.prototype.listen=function(){document.addEventListener("click",this._initialize.bind(this))},Collapse.prototype._initialize=function(t){for(var e,i,o=t.target;;){if(!o)return;if(o.classList.contains("js-collapse-trigger"))return t.preventDefault(),i=o,e=document.querySelectorAll(i.getAttribute("data-target")),void this._handle(i,e);o=o.parentElement}},Collapse.prototype._handle=function(t,e){var i,o=this._getDuration(e[0]);if(!t.classList.contains("pending")){t.classList.add("pending"),setTimeout(function(){t.classList.remove("pending")},o);for(var n=0;n<e.length;n++)i=e[n],t.classList.contains("is-active")?this._slideUp(i):this._slideDown(i);t.classList.toggle("is-active")}},Collapse.prototype._slideDown=function(t){var e,i=t.style,o=this._getStyle(t,"padding-top"),n=this._getStyle(t,"padding-bottom"),s=this._getDuration(t);i.overflow="hidden",i.display="block",e=t.offsetHeight,i.transition="none",i.height="0",i.paddingTop="0",i.paddingBottom="0",setTimeout(function(){i.transition="",i.height=e+"px",i.paddingTop=o+"px",i.paddingBottom=n+"px",setTimeout(function(){i.overflow=""},s)},10)},Collapse.prototype._slideUp=function(t){var e=t.style,i=this._getDuration(t);e.overflow="hidden",e.height="0",e.paddingTop="0",e.paddingBottom="0",setTimeout(function(){t.removeAttribute("style")},i)},Collapse.prototype._getDuration=function(t){return 1e3*parseFloat(getComputedStyle(t).transitionDuration)},Collapse.prototype._getStyle=function(t,e){var i=getComputedStyle(t)[e];return parseFloat(i)},(new Collapse).listen()}();var relativeDate=setDate(calcDiff,localizeUnits);function ScrollSpy(i){"use strict";var o=document.querySelector(".js-scrollspy-target").querySelectorAll("li"),e=document.querySelectorAll(".js-scrollspy-toggle");function n(){var t,e=a();e&&(!function(){for(var t=0;t<o.length;t++)o[t].classList.remove("is-active")}(),t=e.id,o[t-1].classList.add("is-active"))}i=i||0;var s,r,a=function(){for(var t=e.length;t--;)if(l(e[t])){r=e[t];break}return r!=s&&(s=r)};function l(t){var e=pageYOffset;if(t.getBoundingClientRect().top+pageYOffset-i<e)return!0}["scroll","DOMContentLoaded"].forEach(function(t){window.addEventListener(t,n)})}relativeDate(".js-date-modified");var contents=new ScrollSpy(300);function handleImageLoading(a){"use strict";var l=document.querySelectorAll("[data-src]"),t=window.navigator.userAgent;function e(){for(var t,e=0;e<l.length;e++)!("loaded"==(t=l[e]).getAttribute("data-src"))&&o(t)&&i(t)}function i(t){var e=document.createElement("img"),i=t.getAttribute("data-src"),o=t.style;t.setAttribute("data-src","loaded"),e.setAttribute("src",i),e.onload=function(){o.transition="none",o.opacity=0,setTimeout(function(){o.transition="",o.opacity=1,t.setAttribute("src",i)},20)},t.onload=function(){this.removeAttribute("width"),this.removeAttribute("height")}}function o(t){var e=pageYOffset+document.documentElement.clientHeight;if(t.getBoundingClientRect().top+pageYOffset-document.documentElement.clientHeight<e)return!0}t.match("Trident")&&t.match("Edge")&&function(){for(var t,e,i=0;i<l.length;i++)t=l[i],e=t.getAttribute("src").replace(/(\.[\w\d]+)$/,".gif"),t.setAttribute("src",e)}(),setTimeout(function(){for(var t=0;t<l.length;t++){var e,i=l[t],o=i.getAttribute("data-size"),n=o.search(/[xX,/-]/),s=o.slice(0,n)/o.slice(n+1),r=a.width;window.matchMedia(a.fullWidth).matches&&(r=i.parentElement.offsetWidth),e=Math.floor(r/s),i.setAttribute("width",r),i.setAttribute("height",e)}},500),["DOMContentLoaded","scroll"].forEach(function(t){window.addEventListener(t,e)})}function Tooltip(){"use strict";var e,i,o,n=document.querySelector(".js-tooltip-body");function t(t){if((e=t.target).classList.contains("js-tooltip-trigger"))return n.classList.contains("is-active")?(n.classList.remove("is-active"),e.title=o.innerText,void n.removeChild(o)):(i=e.title,e.title="",(o=document.createElement("div")).innerText=i,n.appendChild(o),void n.classList.add("is-active"))}document.addEventListener("mouseover",t.bind(this)),document.addEventListener("mouseout",t.bind(this)),document.addEventListener("mousemove",function(t){n.classList.contains("is-active")&&(n.style.left=t.pageX+20+"px",n.style.top=t.pageY+10+"px")}.bind(this))}handleImageLoading({width:530,fullWidth:"(max-width: 600px)"}),function(){"use strict";window.Modal=function(){},Modal.prototype._open=function(){var t=this._modal;this._toggleScroll(),t.style.display="block",setTimeout(function(){t.classList.add("is-visible")}.bind(this),20)},Modal.prototype._close=function(){var t=this._modal,e=this._duration;t.classList.remove("is-visible"),this._toggleScroll(),setTimeout(function(){t.style.display=""}.bind(this),e)},Modal.prototype._toggleScroll=function(){var t=document.body,e=window.innerWidth-document.documentElement.clientWidth;t.classList.contains("is-fixed")?(t.style.paddingRight="",t.classList.remove("is-fixed")):(t.style.paddingRight=e+"px",t.classList.add("is-fixed"))},Modal.prototype._getDuration=function(t){return 1e3*parseFloat(getComputedStyle(t).transitionDuration)}}(),function(){"use strict";function t(){var t=window.navigator.userAgent;t.match("Trident")&&t.match("Edge")&&this._changePreloader(),this._modal=document.querySelector(".js-lightbox-toggle"),this._closeButton=document.querySelector(".js-lightbox-dismiss"),this._image=this._modal.querySelector("img"),this._duration=this._getDuration(this._modal)}((t.prototype=Object.create(Modal.prototype)).constructor=t).prototype._open=function(t){for(var e=t.target;e!=document.body;){if(e.classList.contains("js-lightbox-trigger")){t.preventDefault(),this._showImage(e),Modal.prototype._open.call(this);break}e=e.parentElement}},t.prototype._showImage=function(t){var e=t.getAttribute("href"),i=this._preloadImage,o=(this._originalSrc,this._image);i=document.createElement("img"),this._image.getAttribute("src"),i.setAttribute("src",e),i.onload=function(){o.setAttribute("src",e)}.bind(this)},t.prototype._close=function(){Modal.prototype._close.call(this),this._removeImage()},t.prototype._removeImage=function(){var t=this._preloadImage,e=this._originalSrc,i=this._image,o=this._duration;t.onload=null,setTimeout(function(){i.setAttribute("src",e)}.bind(this),o)},t.prototype._changePreloader=function(){var t=this._image.getAttribute("src").replace(/(\.[\w\d]+)$/,".gif");this._image.setAttribute("src",t)},t.prototype.listen=function(){document.addEventListener("click",this._open.bind(this)),this._closeButton.addEventListener("click",this._close.bind(this))},(new t).listen()}();var tooltip=new Tooltip;function setCustomList(t){"use strict";var e=t.items,i=t.list,o=t.closing,n=document.createElement("style");document.head.appendChild(n),e.split("").forEach(function(t,e){n.sheet.insertRule(i+"> li:nth-child("+(e+1)+")::before {content:'"+t+o+"'}",0)})}function Share(a,l){"use strict";document.body.addEventListener("click",function(t){for(var e,i,o,n,s,r=t.target;r!=document.body;){if(r.classList.contains("js-share-trigger")){t.preventDefault(),o=r,void 0,n="width="+a,s="height="+l,window.open((e=o,i=void 0,i=window.location.href.replace(/\#\d$/i,""),e.href.replace(/[^=]*$/,i)),"",n+","+s);break}r=r.parentElement}})}!function(){"use strict";for(var t=document.querySelectorAll('a[href^="http://"], a[href^="https://"]'),e=0;e<t.length;e++)t[e].target="_blank"}(),setCustomList({list:"ol ol",items:"абвгдежзиклмнопрстуфхцчшщэюя",closing:")"});var share=new Share(500,600);function ScrollButton(t){var e,i=document.querySelector(t.button),o=t.threshold||0,n=-t.step||-100;this.scrollUp=function(){0!=document.documentElement.scrollTop||0!=document.body.scrollTop?(window.scrollBy(0,n),e=setTimeout(function(){this.scrollUp()}.bind(this),10)):clearTimeout(e)},i.onclick=this.scrollUp.bind(this),t.threshold&&window.addEventListener("scroll",function(){pageYOffset>o?i.classList.add("is-active"):i.classList.remove("is-active")})}!function(){"use strict";function t(){this._trigger=document.querySelector(".js-copy-url-trigger"),this._field=document.querySelector(".js-copy-url-field"),this._wrapper=this._field.parentElement}((t.prototype=Object.create(Collapse.prototype)).constructor=t).prototype._handle=function(){var t=this._getDuration(this._wrapper);Collapse.prototype._handle.call(this,this._trigger,[this._wrapper]),setTimeout(function(){this._copyUrl(),setTimeout(function(){this._showMessage()}.bind(this),t)}.bind(this),t)},t.prototype._copyUrl=function(){this._field.value=window.location.href.replace(/\#\d$/i,""),this._field.focus(),this._field.select(),document.execCommand("Copy")},t.prototype._showMessage=function(){this._field.blur(),this._field.value="Ссылка скопирована!"},t.prototype.listen=function(){this._trigger.addEventListener("click",this._handle.bind(this))},(new t).listen()}();var scrollButton=new ScrollButton({button:".js-scroll-button-toggle",threshold:1.5*document.documentElement.clientHeight,step:200});