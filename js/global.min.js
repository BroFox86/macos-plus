"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Collapse=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"listen",value:function(){var i=this;document.addEventListener("click",function(e){var t,n;e.target&&e.target.matches(".js-collapse-trigger")&&(e.preventDefault(),t=e.target,n=document.querySelectorAll(t.dataset.target),i._handle(t,n))})}},{key:"_handle",value:function(e,t){if(!e.matches(".pending")){e.classList.add("pending"),setTimeout(function(){e.classList.remove("pending")},this._getDuration(t[0]));var n=!0,i=!1,a=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var l=o.value;e.matches(".is-active")?this._slideUp(l):this._slideDown(l)}}catch(e){i=!0,a=e}finally{try{n||null==r.return||r.return()}finally{if(i)throw a}}e.classList.toggle("is-active")}}},{key:"_slideDown",value:function(e){var t,n=e.style,i=this._getStyle(e,"padding-top"),a=this._getStyle(e,"padding-bottom"),o=this._getDuration(e);n.overflow="hidden",n.display="block",t=e.offsetHeight,n.transition="none",n.height=n.paddingTop=n.paddingBottom=0,setTimeout(function(){n.transition="",n.height="".concat(t,"px"),n.paddingTop="".concat(i,"px"),n.paddingBottom="".concat(a,"px"),setTimeout(function(){n.overflow=""},o)},20)}},{key:"_slideUp",value:function(e){var t=e.style;t.overflow="hidden",t.height=t.paddingTop=t.paddingBottom=0,setTimeout(function(){e.removeAttribute("style")},this._getDuration(e))}},{key:"_getStyle",value:function(e,t){return parseFloat(getComputedStyle(e)[t])}},{key:"_getDuration",value:function(e){return 1e3*parseFloat(getComputedStyle(e).transitionDuration)}}]),e}(),collapse=new Collapse;collapse.listen();
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=_superPropBase(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Copy=function(e){function r(){var e;return _classCallCheck(this,r),(e=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this)))._trigger=document.querySelector(".js-copy-url-trigger"),e._field=document.querySelector(".js-copy-url-field"),e._wrapper=e._field.parentElement,e}return _inherits(r,Collapse),_createClass(r,[{key:"listen",value:function(){this._trigger.addEventListener("click",this._handle.bind(this))}},{key:"_handle",value:function(){var e=this,t=this._getDuration(this._wrapper);_get(_getPrototypeOf(r.prototype),"_handle",this).call(this,this._trigger,[this._wrapper]),setTimeout(function(){e._copyUrl(),setTimeout(function(){e._showMessage()},t)},t)}},{key:"_copyUrl",value:function(){this._field.value=window.location.href.replace(/\#\d$/i,""),this._field.focus(),this._field.select(),document.execCommand("Copy")}},{key:"_showMessage",value:function(){this._field.blur(),this._field.value="Ссылка скопирована!"}}]),r}(),copyUrl=new Copy;copyUrl.listen();
"use strict";function setDate(c,s){return function(e){var t=document.querySelector(e);if(t){var n,a,r=t.getAttribute("datetime"),i=c(r);if(i<=2)return i<0&&(t.innerHTML="Только что обновлено."),0==i&&(t.innerHTML="Обновлено сегодня."),1==i&&(t.innerHTML="Обновлено вчера."),void(2==i&&(t.innerHTML="Обновлено позавчера."));switch(i<=6?a=s("days",n=i):i<=27?(n=Math.floor(i/7),a=s("weeks",n)):28<=i&&i<365?(n=i<30?1:Math.floor(i/30),a=s("months",n)):365<=i&&(n=Math.floor(i/365),a=s("years",n)),n){case 1:t.innerHTML="Обновлено ".concat(a," назад.");break;default:t.innerHTML="Обновлено ".concat(n," ").concat(a," назад.")}}}}function calcDiff(e){var t=new Date,n=new Date(e);return Math.floor((t-n)/864e5)}function localizeUnits(e,t){switch(e){case"days":return 1==t?"день":t<=4?"дня":"дней";case"weeks":return 1==t?"неделю":"недели";case"months":return 1==t?"месяц":t<=4?"месяца":"месяцев";case"years":return 1==t?"год":t<=4?"года":"лет"}}var setRelativeDate=setDate(calcDiff,localizeUnits);setRelativeDate(".js-date-modified");
"use strict";function handleLoadImages(t){var h=t.actualWidth,m=t.breakpoint,v=document.querySelectorAll("[data-src]");function e(){var t=!0,e=!1,n=void 0;try{for(var a,i=v[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var r=a.value;!("loaded"==r.dataset.src)&&o(r)&&d(r)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}function o(t){var e=pageYOffset+document.documentElement.clientHeight;if(t.getBoundingClientRect().top+pageYOffset-document.documentElement.clientHeight<e)return!0}function d(t){var e=document.createElement("img"),n=t.dataset.src,a=t.style;t.dataset.src="loaded",e.setAttribute("src",n),e.onload=function(){a.transition="none",a.opacity=0,setTimeout(function(){a.transition="",a.opacity=1,t.setAttribute("src",n),t.removeAttribute("width"),t.removeAttribute("height")},20)}}window.addEventListener("DOMContentLoaded",function(){var t=!0,e=!1,n=void 0;try{for(var a,i=v[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var r=a.value,o=r.dataset.size,d=[o.split("x")[0],o.split("x")[1]],l=d[0],c=d[1],u=l/c;window.matchMedia("(".concat(m,")")).matches&&(h=r.parentElement.offsetWidth);var s=Math.floor(h/u),f=[h,s];r.width=f[0],r.height=f[1]}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}),window.addEventListener("DOMContentLoaded",e),window.addEventListener("scroll",e)}handleLoadImages({actualWidth:530,breakpoint:"max-width: 600px"});
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var r=_superPropBase(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lightbox=function(t){function o(){var t;return _classCallCheck(this,o),(t=_possibleConstructorReturn(this,_getPrototypeOf(o).call(this)))._modal=document.querySelector(".js-lightbox-toggle"),t._image=t._modal.querySelector("img"),t._duration=t._getDuration(t._modal),t}return _inherits(o,Modal),_createClass(o,[{key:"listen",value:function(){this._modal.querySelector(".js-lightbox-dismiss").addEventListener("click",this._close.bind(this)),document.addEventListener("click",this._open.bind(this))}},{key:"_open",value:function(t){for(var e=t.target;e!=document.body;){if(e.classList.contains("js-lightbox-trigger"))return t.preventDefault(),this._showImage(e),void _get(_getPrototypeOf(o.prototype),"_open",this).call(this);e=e.parentElement}}},{key:"_showImage",value:function(t){var e=this,o=t.getAttribute("href"),r=document.createElement("img");this._originSrc=this._image.src,r.src=o,r.onload=function(){e._image.src=o}}},{key:"_close",value:function(){_get(_getPrototypeOf(o.prototype),"_close",this).call(this),this._removeImage()}},{key:"_removeImage",value:function(){var t=this;setTimeout(function(){t._image.src=t._originSrc},this._duration)}}]),o}(),lightbox=new Lightbox;lightbox.listen();
"use strict";var SELECTORS='a[href^="http://"], a[href^="https://"]',links=document.querySelectorAll(SELECTORS),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=links[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var link=_step.value;link.target="_blank"}}catch(r){_didIteratorError=!0,_iteratorError=r}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}
"use strict";function setCustomList(t){var c=t.selector,e=t.items,n=t.closing,o=document.createElement("style");document.head.append(o),e.split("").forEach(function(t,e){o.sheet.insertRule("".concat(c," > li:nth-child( ").concat(e+1,' )::before {\n        content: "').concat(t).concat(n,'";\n      }'),0)})}setCustomList({selector:"ol ol",items:"абвгдежзиклмнопрстуфхцчшщэюя",closing:")"});
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var Modal=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_open",value:function(){var e=this;this._togglePageScroll(),this._modal.style.display="block",setTimeout(function(){e._modal.classList.add("is-visible")},20)}},{key:"_close",value:function(){var e=this;this._modal.classList.remove("is-visible"),this._togglePageScroll(),setTimeout(function(){e._modal.style.display=""},this._duration)}},{key:"_togglePageScroll",value:function(){var e=document.body,t=window.innerWidth-document.documentElement.clientWidth;e.classList.contains("is-fixed")?(e.classList.remove("is-fixed"),e.style.paddingRight=""):(e.classList.add("is-fixed"),e.style.paddingRight="".concat(t,"px"))}},{key:"_getDuration",value:function(e){return 1e3*parseFloat(getComputedStyle(e).transitionDuration)}}]),e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var ScrollButton=function(){function e(t){_classCallCheck(this,e),this._button=document.querySelector(t.button),this._step=t.step||150}return _createClass(e,[{key:"listenButton",value:function(){this._button.onclick=this.scrollUp.bind(this)}},{key:"scrollUp",value:function(){var t,e=this;0!=document.documentElement.scrollTop||0!=document.body.scrollTop?(window.scrollBy(0,-this._step),t=setTimeout(function(){e.scrollUp()},20)):clearTimeout(t)}},{key:"handleVisibility",value:function(t){var e=this;window.addEventListener("scroll",function(){pageYOffset>t?e._button.classList.add("is-active"):e._button.classList.remove("is-active")})}}]),e}(),scrollButton=new ScrollButton({button:".js-scroll-button-toggle",step:300});scrollButton.listenButton(),scrollButton.handleVisibility(1.5*document.documentElement.clientHeight);
"use strict";!function(){var e=document.querySelectorAll(".js-scrollspy-toggle"),i=document.querySelector(".js-scrollspy-target").querySelectorAll("li");function r(){var t=a();if(t){var e=!0,r=!1,n=void 0;try{for(var o,l=i[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){o.value.classList.remove("is-active")}}catch(t){r=!0,n=t}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}i[t.id-1].classList.add("is-active")}}["scroll","DOMContentLoaded"].forEach(function(t){window.addEventListener(t,r)});var n,o,a=function(){for(var t=e.length;t--;)if(l(e[t]))return(o=e[t])!=n&&(n=o)};function l(t){var e=pageYOffset;if(t.getBoundingClientRect().top+pageYOffset-300<e)return!0}}();
"use strict";function sharePage(i,d){document.body.addEventListener("click",function(e){for(var t,n,a,c,o,r=e.target;r!=document.body;){if(r.classList.contains("js-share-trigger")){e.preventDefault(),a=r,void 0,c="width=".concat(i),o="height=".concat(d),window.open((t=a,n=void 0,n=window.location.href.replace(/\#\d$/,""),t.href.replace(/[^=]*$/,n)),"","".concat(c,", ").concat(o));break}r=r.parentElement}})}sharePage(500,600);
"use strict";!function(){var e,o,n;document.addEventListener("mouseover",function(t){t.target.classList.contains("js-tooltip-trigger")&&(e=t.target,o=e.title,e.title="",(n=document.createElement("aside")).className="tooltip",'<button class="tooltip__close" type="button"></button>',n.innerHTML=o+'<button class="tooltip__close" type="button"></button>',document.body.append(n))}),document.addEventListener("mousemove",function(t){t.target.classList.contains("js-tooltip-trigger")&&(n.style.left="".concat(t.pageX+20,"px"),n.style.top="".concat(t.pageY+10,"px"))}),document.addEventListener("mouseout",function(t){t.target.classList.contains("js-tooltip-trigger")&&(e.title=n.textContent,document.body.removeChild(n))})}();